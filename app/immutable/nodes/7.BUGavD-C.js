import"../chunks/CWj6FrbW.js";import{p as y,ad as M,f as x,az as j,b as f,c as C,al as O,a as q,t as B,am as Y,s as c,au as m,aA as _,l as p,d as h,r as g,aB as z,aC as D}from"../chunks/Bu-bbLBY.js";import{i as F}from"../chunks/rjqpNk0U.js";import{N as U}from"../chunks/CZXT1WH4.js";import{b as Z}from"../chunks/DVisnD7-.js";import{p as G}from"../chunks/ChCxAHBp.js";var H=x(`<dialog class="dialog svelte-8jmxfk"><div class="container svelte-8jmxfk"><div class="check svelte-8jmxfk">âœ“</div> <h2 class="svelte-8jmxfk">You have been added to our waitlist!</h2> <p class="svelte-8jmxfk">Thanks for following our journey. You'll be the first to know when we're ready!</p> <form method="dialog"><button class="primary svelte-8jmxfk">Close</button></form></div></dialog>`);function I(d,n){y(n,!0);let a=G(n,"opened",11,!1),t;M(()=>{a()&&t&&!t.open?t.showModal():!a()&&(t!=null&&t.open)&&t.close()});var s=H();Z(s,r=>t=r,()=>t),j("close",s,function(...r){var i;(i=n.onClose)==null||i.apply(this,r)}),f(d,s),C()}var K=z(`<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="white"><style>.spinner_P7sC {
							transform-origin: center;
							animation: spinner_svv2 0.75s infinite linear;
						}
						@keyframes spinner_svv2 {
							100% {
								transform: rotate(360deg);
							}
						}</style><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_P7sC"></path></svg>`),L=x(`<!> <!> <main class="fade-in-up svelte-14pec95"><h1>Join the Waitlist</h1> <p class="svelte-14pec95">We'll send updates on our progress and share more about our plan for STEM education.</p> <form class="svelte-14pec95"><input type="text" name="fullname" placeholder="Full name..." required/> <input type="email" name="email" placeholder="Email address..." required/> <div class="marketing-consent svelte-14pec95"><input id="marketing_consent" name="marketing_consent" type="checkbox"/> <label for="marketing_consent">Send me promotional emails</label></div> <button id="submit" class="primary svelte-14pec95"><!></button></form></main>`,1);function te(d,n){y(n,!0);let a=_(!1);const t="https://waitlist.afrmtbl627.workers.dev/api/waitlist";let s=_(!1);async function r(e){if(p(a))return;m(a,!0),e.preventDefault();const o=e.target,A=o.fullname.value,E=o.email.value,J=o.marketing_consent.checked,N={fullname:A,email:E,marketing_consent:J};try{const l=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)});if(!l.ok)throw new Error(`Server error: ${l.status}`);const P=await l.json();m(s,!0),console.log("Success:",P)}catch(l){console.error("Error:",l)}finally{m(a,!1),o.reset()}}var i=L();O(e=>{Y.title="Join the Waitlist"});var w=q(i);U(w);var b=c(w,2);I(b,{onClose:()=>m(s,!1),get opened(){return p(s)},set opened(e){m(s,e,!0)}});var k=c(b,2),u=c(h(k),4),v=c(h(u),6),S=h(v);{var T=e=>{var o=K();f(e,o)},W=e=>{var o=D("Join Now");f(e,o)};F(S,e=>{p(a)?e(T):e(W,!1)})}g(v),g(u),g(k),B(()=>v.disabled=p(a)),j("submit",u,e=>r(e)),f(d,i),C()}export{te as component};
